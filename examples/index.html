<!DOCTYPE html>
<html>
    <head>
        <meta charset="utf-8">
        <meta name="viewport" content="width=device-width,initial-scale=1">
        <title>medium-editor-insert</title>
        <link rel="stylesheet" href="./css/demo.css">
        <link rel="stylesheet" href="//netdna.bootstrapcdn.com/font-awesome/4.1.0/css/font-awesome.css">
        <link rel="stylesheet" href="./css/medium-editor.min.css">
        <link rel="stylesheet" href="./css/themes/default.css">
        <link rel="stylesheet" href="../dist/css/medium-editor-insert.css">
    </head>
    <body>
        <div id="container">
            <h1 class="title">Medium Editor + insert extension</h1>
            <div>
                <a href="javascript: void(0)" style="text-decoration: underline;" onclick="document.getElementById('editable').innerHTML = '<p><br></p>';">白紙に戻す</a>
            </div>
            <div class="editable" id="editable">
                <p>こんにちは！やっと素敵なブログに出会えて、今書き始めなのですがすごくワクワクしています🤩</p>
                <p>まずは初投稿ということで、私の自己紹介をします。</p>
                <figure class="medium-editor-insert-image" contenteditable="false">
                    <div class="medium-editor-insert-image-wrapper">
                        <img src="./introduction.jpg">
                        <div class="medium-editor-insert-image-overlay"></div>
                    </div>
                    <figcaption contenteditable="true">愛犬：ポン太</figcaption>
                </figure>
                <h2>自己紹介</h2>
                <h3>名前</h3>
                <p>sainu（さいぬ）🐶<br></p>
                <p>ネットでのハンドルネームは<b>sainu</b>でやっています！これは本名が「さい〇〇」なのと、「犬っぽい」性格？から、「さい」＋「犬」＝「さいぬ」と呼ばれています〜</p>
                <h4>職業</h4>
                <p>私は、ソフトウェアエンジニアという仕事をしています💻</p>
                <h3>好きな映画</h3>
                <ul>
                    <li>ものづくり</li>
                    <li>映画鑑賞</li>
                    <li>本</li>
                </ul>
                <p>最近感動した映画は、<u>戦場のピアニスト</u>ですね！ナチスのユダヤ人大虐殺があった時代のとあるピアニストが主人公の話です。<strike>フィクションです。</strike></p>
                <h3>好きな言葉</h3>
                <blockquote>好きは物の上手なれ</blockquote>
                <blockquote>夢中は努力に勝る</blockquote>
                <hr class="medium-editor-insert-hr">
                <h2>留学</h2>
                <p>ところで、去年の夏にフィリピンに短期語学留学に行ってきました。放課後に一人でセブ市内をぶらぶらしていた時に、素敵なカフェを見つけてしばらくそこで勉強していた時に撮った動画を載せます！</p>
                <figure contenteditable="false" class="medium-editor-insert-video">
                    <div class="medium-editor-insert-video-wrapper">
                        <video controls="" muted="true">
                            <source src="1_400_000.mp4">
                        </video>
                        <div class="medium-editor-insert-video-overlay"></div>
                    </div>
                </figure>
            </div>
        </div>
        <p style="text-align: center;"><small><a style="color: #333;" target="_blank" href="http://www.goodreads.com/reader/475-great-expectations">Source</a></small></p>

        <script src="./js/medium-editor.js"></script>
        <script src="../dist/js/medium-editor-insert.js"></script>

        <script>
            var CustomAddon = function (plugin) {
                this._plugin = plugin;
                this._editor = this._plugin.base;

                this.options = {
                    label: '<span class="fa fa-list"></span>',
                    aria: 'カスタムアドオン'
                };

                this.label = this.options.label;
            };

            CustomAddon.prototype.handleClick = function () {
                console.log('hell yeah!');
            };

            var editor = new MediumEditor('.editable', {
                toolbar: {
                    buttons: [
                        'bold', 'italic', 'underline', 'strikethrough',
                        'superscript', 'subscript',
                        'image',
                        'html',
                        'orderedlist', 'unorderedlist',
                        'indent', 'outdent',
                        'justifyCenter', 'justifyFull', 'justifyLeft', 'justifyRight',
                        'removeFormat',
                        'quote',
                        'pre',
                        'h1', 'h2', 'h3', 'h4', 'h5', 'h6'
                    ]
                },
                buttonLabels: 'fontawesome',
                extensions: {
                    'insert': new MediumEditorInsert({
                        addons: {
                            custom: CustomAddon,
                        },
                        callback: function (obj) {
                            if (obj.type === 'error') {
                                if (obj.name === 'BigFileSizeError') {
                                    alert('ファイルサイズが大きすぎてアップロードできませんでした');
                                }
                            }
                        }
                    })
                }
            });
        </script>
    </body>
</html>
